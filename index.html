<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üáØüáµ Japan Trip Recap</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&family=Zen+Maru+Gothic:wght@500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --primary-color: #ff7e67;
            --bg-color: #f9f7f7;
            --card-bg: #ffffff;
            --text-color: #4a4a4a;
        }

        body {
            font-family: 'Zen Maru Gothic', 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        /* Èò≤Ê≠¢ÁáàÁÆ±ÊâìÈñãÊôÇËÉåÊôØÊªæÂãï */
        body.noscroll { overflow: hidden; }

        .container {
            max-width: 800px;
            width: 100%;
        }

        header { text-align: center; margin-bottom: 30px; padding: 20px 0; }
        h1 { font-size: 2.2rem; margin: 0; color: var(--primary-color); }
        p.subtitle { font-size: 1rem; color: #888; margin-top: 5px; }

        /* --- Tabs --- */
        .tabs {
            display: flex; justify-content: center; margin-bottom: 30px; background: white;
            padding: 5px; border-radius: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            width: fit-content; margin-left: auto; margin-right: auto;
        }
        .tab-btn {
            padding: 10px 30px; border: none; background: transparent; cursor: pointer;
            font-size: 1rem; border-radius: 25px; color: #888; font-family: inherit; transition: all 0.3s;
        }
        .tab-btn.active {
            background-color: var(--primary-color); color: white; font-weight: bold;
            box-shadow: 0 2px 10px rgba(255, 126, 103, 0.4);
        }
        .tab-content { display: none; animation: fadeIn 0.4s ease; }
        .tab-content.active { display: block; }

        /* --- Components --- */
        .card {
            background: var(--card-bg); border-radius: 20px; padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); margin-bottom: 30px;
        }
        .summary-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
        .stat-box { text-align: center; padding: 20px; background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.03); }
        .stat-number { display: block; font-size: 2rem; font-weight: bold; color: var(--primary-color); }
        .chart-container { position: relative; height: 300px; width: 100%; }
        
        .filter-container { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .filter-btn { border: 1px solid #ddd; background: white; padding: 8px 16px; border-radius: 20px; cursor: pointer; color: #666; }
        .filter-btn.active { background: var(--primary-color); color: white; border-color: var(--primary-color); }
        .transaction-list { list-style: none; padding: 0; }
        .transaction-item { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #eee; }
        .item-info h3 { margin: 0; font-size: 1.1rem; }
        .item-info span { font-size: 0.85rem; color: #999; }
        .item-price { font-weight: bold; color: var(--text-color); }

        /* --- Timeline & Photos --- */
        .timeline { position: relative; padding-left: 30px; }
        .timeline::before { content: ''; position: absolute; left: 0; top: 10px; bottom: 10px; width: 2px; background: #eee; }
        .timeline-item { position: relative; margin-bottom: 40px; }
        .timeline-dot { position: absolute; left: -34px; top: 0; width: 10px; height: 10px; background: var(--primary-color); border-radius: 50%; border: 4px solid #fff; box-shadow: 0 0 0 2px #eee; }
        .timeline-date { font-size: 0.85rem; color: var(--primary-color); font-weight: bold; margin-bottom: 5px; display: block; }
        .timeline-content { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        .timeline-title-row { display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px; }
        .timeline-title { margin: 0; font-size: 1.2rem; }
        .map-link { font-size: 0.8rem; color: #4a90e2; text-decoration: none; border: 1px solid #4a90e2; padding: 2px 8px; border-radius: 12px; white-space: nowrap; margin-left: 10px;}
        .timeline-desc { color: #666; font-size: 0.95rem; line-height: 1.6; }
        
        .photo-gallery { display: flex; gap: 10px; overflow-x: auto; margin-top: 15px; padding-bottom: 5px; }
        
        .timeline-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            flex-shrink: 0;
            cursor: zoom-in; /* ÊªëÈº†Áßª‰∏äÂéªËÆäÊîæÂ§ßÈè° */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .timeline-img:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .photo-gallery.multiple .timeline-img { width: 85%; }

        /* --- Lightbox --- */
        .lightbox {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.85);
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s;
        }
        .lightbox.active { display: flex; }
        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            border-radius: 8px;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            animation: zoomIn 0.3s;
        }
        .close-btn {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 10001;
            transition: color 0.2s;
        }
        .close-btn:hover { color: var(--primary-color); }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes zoomIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @media (max-width: 600px) { .summary-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>üáØüáµ 2025 Tokyo Vibe</h1>
            <p class="subtitle">Memories & Expenses</p>
        </header>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('accounting')">üí∞ Ë®òÂ∏≥ÂàÜÊûê</button>
            <button class="tab-btn" onclick="switchTab('itinerary')">üì∏ Ë°åÁ®ãÂõûÈ°ß</button>
        </div>

        <div id="tab-accounting" class="tab-content active">
            <div class="summary-grid">
                <div class="stat-box"><span>Á∏ΩËä±Ë≤ª (TWD)</span><span class="stat-number" id="total-spent">0</span></div>
                <div class="stat-box"><span>Á¥ÄÈåÑÁ≠ÜÊï∏</span><span class="stat-number" id="total-items">0</span></div>
            </div>
            <div class="card">
                <h2>üí∏ Ê∂àË≤ªÈ°ûÂà•ÂàÜÊûê</h2>
                <div class="chart-container"><canvas id="expenseChart"></canvas></div>
            </div>
            <div class="card">
                <h2>üìù Ë©≥Á¥∞Â∏≥ÂñÆ</h2>
                <div class="filter-container">
                    <button class="filter-btn active" onclick="filterData('all')">ÂÖ®ÈÉ®</button>
                    <button class="filter-btn" onclick="filterData('CUBEÂç°')">CUBE</button>
                    <button class="filter-btn" onclick="filterData('JÂç°')">JÂç°</button>
                    <button class="filter-btn" onclick="filterData('‰∏≠‰ø°')">‰∏≠‰ø°</button>
                    <button class="filter-btn" onclick="filterData('Âè∞Êñ∞')">Âè∞Êñ∞</button>
                    <button class="filter-btn" onclick="filterData('ÂáØÂü∫')">ÂáØÂü∫</button>
                    <button class="filter-btn" onclick="filterData('other')">ÂÖ∂‰ªñ</button>
                </div>
                <ul class="transaction-list" id="list-container"></ul>
            </div>
        </div>

        <div id="tab-itinerary" class="tab-content">
            <div class="timeline" id="timeline-container">
                </div>
        </div>
    </div>

    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <span class="close-btn">√ó</span>
        <img class="lightbox-content" id="lightbox-img">
    </div>

    <script>
        // ==========================================
        // 1. Ë®òÂ∏≥Ë≥áÊñô (Database)
        // ==========================================
        const tripData = [
            { date: '2025-11-08', item: 'WaySim eSIM Á∂≤Âç°', cost: 269, category: 'Á∂≤Ë∑Ø', icon: 'üì±', note: 'Âá±Âü∫' },
            { date: '2025-11-08', item: 'Êç∑ÊòüËà™Á©∫‰æÜÂõûÊ©üÁ•®', cost: 9190, category: '‰∫§ÈÄö', icon: '‚úàÔ∏è', note: 'CUBEÂç°' },
            { date: '2025-11-08', item: 'Âä†Ë≥ºË®óÈÅãË°åÊùé', cost: 1595, category: '‰∫§ÈÄö', icon: 'üß≥', note: 'CUBEÂç°' },
            { date: '2025-11-08', item: 'Skyliner ‰∫¨ÊàêÈõªÈêµ', cost: 937, category: '‰∫§ÈÄö', icon: 'üöÑ', note: 'Âè∞Êñ∞' },
            { date: '2025-11-08', item: 'Êñ∞ÂÆøÊ†ºËò≠Ë≤ùÁàæÈÖíÂ∫ó', cost: 2316, category: '‰ΩèÂÆø', icon: 'üè®', note: 'CUBEÂç°' },
            { date: '2025-11-08', item: 'ÂãûÊ£Æ Lawson', cost: 339, category: 'È£≤È£ü', icon: 'üè™', note: 'CUBEÂç°' },
            { date: '2025-11-08', item: '7-11 Ë∂ÖÂïÜ', cost: 292, category: 'È£≤È£ü', icon: 'üè™', note: 'CUBEÂç°' },
            { date: '2025-11-08', item: 'Ë∑ëÊ≠• (Ë°åÁ®ã/Ë≥ºÁâ©)', cost: 622, category: 'Â®õÊ®Ç', icon: 'üèÉ', note: 'CUBEÂç°' },
            { date: '2025-11-08', item: 'ÊôöÈ§êÔºö‰∏≤Ááí', cost: 955, category: 'È£≤È£ü', icon: 'üç¢', note: 'CUBEÂç°' },
            { date: '2025-11-08', item: 'Ë∂ÖÂïÜÂíñÂï° (439ÂÜÜ)', cost: 89, category: 'È£≤È£ü', icon: '‚òï', note: '‰∏≠‰ø°' },
            { date: '2025-11-09', item: 'ÂçàÈ§êÔºöÂ£ΩÂñúÁáí', cost: 2360, category: 'È£≤È£ü', icon: 'ü•ò', note: 'CUBEÂç°' },
            { date: '2025-11-09', item: 'Èõ®ÂÇò (Ë≥™ÊÑüÂ•ΩÁâ©)', cost: 792, category: 'Ë≥ºÁâ©', icon: '‚òÇÔ∏è', note: 'CUBEÂç°' },
            { date: '2025-11-09', item: 'Uniqlo ÂÑ™Ë°£Ë§≤', cost: 1416, category: 'Ë≥ºÁâ©', icon: 'üëï', note: 'CUBEÂç°' },
            { date: '2025-11-09', item: 'GU ÊúçÈ£æ', cost: 1660, category: 'Ë≥ºÁâ©', icon: 'üëó', note: 'CUBEÂç°' },
            { date: '2025-11-09', item: 'ÂæÆÊ≥¢ÁàêÁ•ûÂô®', cost: 559, category: 'Ë≥ºÁâ©', icon: 'ü•£', note: 'CUBEÂç°' },
            { date: '2025-11-09', item: 'Â•∂Êòî (1069ÂÜÜ)', cost: 217, category: 'È£≤È£ü', icon: 'ü•§', note: '‰∏≠‰ø°' },
            { date: '2025-11-09', item: 'ÊòüÂ∑¥ÂÖã (671ÂÜÜ)', cost: 136, category: 'È£≤È£ü', icon: '‚òï', note: '‰∏≠‰ø°' },
            { date: '2025-11-09', item: 'ËªäÁ´ôÈ§Ö‰πæ (1080ÂÜÜ)', cost: 219, category: 'Ë≥ºÁâ©', icon: 'üç™', note: '‰∏≠‰ø°' },
            { date: '2025-11-09', item: 'ÊºîÂî±ÊúÉÈñÄÁ•® (15800ÂÜÜ)', cost: 3260, category: 'Â®õÊ®Ç', icon: 'üé´', note: 'JÂç°' },
            { date: '2025-11-09', item: 'ÊôöÈ§êÔºöÊº¢Â†°', cost: 334, category: 'È£≤È£ü', icon: 'üçî', note: 'CUBEÂç°' },
            { date: '2025-11-09', item: 'Ê©üÂ†¥Ë≤©Ë≥£Ê©ü (160ÂÜÜ)', cost: 32, category: 'È£≤È£ü', icon: 'üßÉ', note: '‰∏≠‰ø°' },
            { date: '2025-11-09', item: 'ÂõûÁ®ãÊàêÁî∞ Express', cost: 1310, category: '‰∫§ÈÄö', icon: 'üöÜ', note: 'Âá±Âü∫' }
        ];

        // ==========================================
        // 2. Ë°åÁ®ãËàáÁÖßÁâá (Real Data)
        // ==========================================
        const itineraryData = [
            {
                time: '08:00',
                title: 'ÊäµÈÅîÊó•ÊöÆÈáåËΩâËªä',
                desc: 'Êó©ÂÆâÊù±‰∫¨ÔºÅËΩâ‰πò SkyLiner ÂâçÈÄ≤Â∏ÇÂçÄ„ÄÇ',
                images: ['photos/001.jpg'],
                map: 'https://www.google.com/maps/search/?api=1&query=Nippori+Station'
            },
            {
                time: '09:00',
                title: 'ÊäµÈÅîÊù±‰∫¨ËªäÁ´ô',
                desc: 'Ëø∑ÂÆÆËà¨ÁöÑÊù±‰∫¨ËªäÁ´ôÔºå‰∫∫ÊΩÆÈñãÂßãÊπßÁèæ„ÄÇ',
                images: ['photos/002.jpg'],
                map: 'https://www.google.com/maps/search/?api=1&query=Tokyo+Station'
            },
            {
                time: '10:20',
                title: 'Êô®Ë∑ëÁöáÂ±Ö üèÉ',
                desc: 'ÊúùËÅñË∑ëËÄÖËÅñÂú∞ÔºåÁ©∫Ê∞£ÂæàÊ∏ÖÊñ∞ÔºåÂú®ÁöáÂ±ÖÂ§ñÂúçË∑ë‰∏ÄÂúàÂøÉÊÉÖË∂ÖÂ•ΩÔºÅ',
                images: ['photos/003.png'], // üëà ÈÄôË£°ÊîπÊàê .png ‰∫ÜÔºÅ
                map: 'https://www.google.com/maps/search/?api=1&query=Imperial+Palace+Tokyo'
            },
            {
                time: '13:00',
                title: 'Â§ßÁï™Â£ΩÂè∏ (Ooban Sushi)',
                desc: 'ÈÅãÂãïÂÆåË£úÂÖÖËõãÁôΩË≥™ÔºåÊñ∞ÈÆÆÁöÑÂ£ΩÂè∏Â§ßÈ§ê„ÄÇ',
                images: ['photos/004.jpg'],
                map: 'https://www.google.com/maps/search/?api=1&query=Oban+Sushi+Shinjuku'
            },
            {
                time: '15:00',
                title: 'Fuglen Tokyo ‚òï',
                desc: 'Â•ßÊæÄË∞∑ÁöÑÁ∂ìÂÖ∏Ôºå‰æÜËá™Êå™Â®ÅÁöÑÂíñÂï°ÂêçÂ∫ó„ÄÇ',
                images: ['photos/005.jpg'],
                map: 'https://www.google.com/maps/search/?api=1&query=Fuglen+Tokyo'
            },
            {
                time: '15:30',
                title: 'CAMELBACK sandwich&espresso',
                desc: 'ÂøÖÂêÉÁöÑÁéâÂ≠êÁáí‰∏âÊòéÊ≤ªÔºÅÂ§ñÂ∏∂ÂéªÂÖ¨ÂúíÂêÉÂâõÂâõÂ•Ω„ÄÇ',
                images: ['photos/006.jpg', 'photos/007.jpg'],
                map: 'https://www.google.com/maps/search/?api=1&query=Camelback+sandwich+espresso'
            },
            {
                time: '16:00',
                title: 'SYNKÔºö aeXIS LINE in JAPAN',
                desc: '‰ª£‰ª£Êú®ÂÖ¨ÂúíÊºîÂî±ÊúÉÔºåÁèæÂ†¥Ê∞£Ê∞õÂ§™Âó®‰∫ÜÔºÅ',
                images: ['photos/008.jpg'],
                map: 'https://www.google.com/maps/search/?api=1&query=Yoyogi+National+Gymnasium'
            },
            {
                time: '21:00',
                title: 'È≥•‰∫¨ Torikyo',
                desc: 'ÊºîÂî±ÊúÉÂæåÁöÑÂ±ÖÈÖíÂ±ãÁ∫åÊî§ÔºåÁáíÈ≥•ÈÖçÂï§ÈÖí„ÄÇ',
                images: ['photos/009.jpg'],
                map: 'https://www.google.com/maps/search/?api=1&query=Torikyo+Shinjuku'
            },
            {
                time: '22:00',
                title: 'Shinjuku no kemuri',
                desc: 'Êñ∞ÂÆø„ÅÆ„Åë„ÇÄ„ÇäÔºåÁÖôÈúßÁπöÁπûÁöÑÈÅìÂú∞Ê∞õÂúçÔºåÁÇ∫Á¨¨‰∏ÄÂ§©Áï´‰∏ãÂè•Èªû„ÄÇ',
                images: ['photos/010.jpg'],
                map: 'https://www.google.com/maps/search/?api=1&query=Shinjuku+no+kemuri'
            }
        ];

        // ==========================================
        // 3. Ê†∏ÂøÉÈÇèËºØ (Updated)
        // ==========================================
        
        let currentChart = null;

        document.addEventListener('DOMContentLoaded', () => {
            renderView(tripData);
            renderItinerary();
        });

        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById(`tab-${tabId}`).classList.add('active');
            const btnIndex = tabId === 'accounting' ? 0 : 1;
            document.querySelectorAll('.tab-btn')[btnIndex].classList.add('active');
        }

        // ÁáàÁÆ±ÊéßÂà∂
        function openLightbox(src) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            lightboxImg.src = src;
            lightbox.classList.add('active');
            document.body.classList.add('noscroll');
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.classList.remove('noscroll');
        }

        // Ê∏≤ÊüìË°åÁ®ã (Âê´ÁáàÁÆ± + ÈåØË™§ËôïÁêÜ)
        function renderItinerary() {
            const container = document.getElementById('timeline-container');
            container.innerHTML = ''; 
            
            itineraryData.forEach(event => {
                const images = Array.isArray(event.images) ? event.images : (event.images ? [event.images] : []);
                let imgHtml = '';
                
                if (images.length > 0) {
                    const galleryClass = images.length > 1 ? 'photo-gallery multiple' : 'photo-gallery';
                    const imgs = images.map(src => `
                        <img src="${src}" 
                             class="timeline-img clickable"
                             loading="lazy" 
                             alt="${event.title}"
                             onclick="openLightbox(this.src)"
                             onerror="this.onerror=null; this.src=this.src.replace('.jpg', '.JPG').replace('.png', '.PNG');"
                        >`).join('');
                    imgHtml = `<div class="${galleryClass}">${imgs}</div>`;
                }

                const mapHtml = event.map ? `<a href="${event.map}" target="_blank" class="map-link">üìç Âú∞Âúñ</a>` : '';
                
                const html = `
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <span class="timeline-date">${event.time}</span>
                        <div class="timeline-content">
                            <div class="timeline-title-row">
                                <h3 class="timeline-title">${event.title}</h3>
                                ${mapHtml}
                            </div>
                            <p class="timeline-desc">${event.desc}</p>
                            ${imgHtml}
                        </div>
                    </div>
                `;
                container.innerHTML += html;
            });
        }

        // Ë®òÂ∏≥Ê∏≤Êüì (‰øùÊåÅÂéüÊ®£)
        function filterData(type) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
                if (type === 'all' && btn.innerText === 'ÂÖ®ÈÉ®') btn.classList.add('active');
                else if (type === 'other' && btn.innerText === 'ÂÖ∂‰ªñ') btn.classList.add('active');
                else if (btn.innerText.includes(type)) btn.classList.add('active');
            });
            let filteredData;
            if (type === 'all') filteredData = tripData;
            else if (type === 'other') {
                const mainCards = ['CUBE', 'JÂç°', 'Âè∞Êñ∞', 'Âá±Âü∫', '‰∏≠‰ø°'];
                filteredData = tripData.filter(item => !mainCards.some(card => item.note.includes(card)));
            } else {
                filteredData = tripData.filter(item => item.note.includes(type));
            }
            renderView(filteredData);
        }

        function renderView(data) {
            const total = data.reduce((sum, record) => sum + record.cost, 0);
            document.getElementById('total-spent').innerText = `$${total.toLocaleString()}`;
            document.getElementById('total-items').innerText = data.length;
            const listContainer = document.getElementById('list-container');
            listContainer.innerHTML = '';
            if (data.length === 0) listContainer.innerHTML = '<li style="text-align:center; padding:20px; color:#999;">ÁÑ°Á¥ÄÈåÑ</li>';
            data.forEach(record => {
                const li = document.createElement('li');
                li.className = 'transaction-item';
                let tagColor = '#999'; let borderColor = '#ddd';
                if (record.note.includes('CUBE')) { tagColor = '#4a90e2'; borderColor = '#4a90e2'; }
                else if (record.note.includes('JÂç°')) { tagColor = '#50c878'; borderColor = '#50c878'; }
                else if (record.note.includes('Âè∞Êñ∞')) { tagColor = '#e74c3c'; borderColor = '#e74c3c'; }
                else if (record.note.includes('Âá±Âü∫')) { tagColor = '#f39c12'; borderColor = '#f39c12'; }
                else if (record.note.includes('‰∏≠‰ø°')) { tagColor = '#00a0a0'; borderColor = '#00a0a0'; }
                li.innerHTML = `
                    <div class="item-info">
                        <h3>${record.icon} ${record.item}</h3>
                        <span>${record.date} ¬∑ ${record.category} 
                            <span style="color: ${tagColor}; margin-left: 5px; border: 1px solid ${borderColor}; padding: 1px 6px; border-radius: 4px; font-size: 0.7em;">${record.note}</span>
                        </span>
                    </div>
                    <div class="item-price">$${record.cost.toLocaleString()}</div>
                `;
                listContainer.appendChild(li);
            });
            updateChart(data);
        }

        function updateChart(data) {
            const categories = {};
            data.forEach(record => { categories[record.category] = (categories[record.category] || 0) + record.cost; });
            const ctx = document.getElementById('expenseChart').getContext('2d');
            if (currentChart) currentChart.destroy();
            if (data.length === 0) return;
            currentChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(categories),
                    datasets: [{
                        data: Object.values(categories),
                        backgroundColor: ['#FFB7B2', '#FFDAC1', '#E2F0CB', '#B5EAD7', '#C7CEEA', '#F0E68C', '#e0e0e0'],
                        borderWidth: 0
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }
            });
        }
    </script>
</body>
</html>
