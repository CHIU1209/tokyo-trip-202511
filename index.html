<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‡¯ğŸ‡µ Japan Trip Recap</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&family=Zen+Maru+Gothic:wght@500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --primary-color: #ff7e67; /* æ—¥æœ¬é³¥å±…ç´… */
            --bg-color: #f9f7f7;      /* ç±³ç™½ç´™å¼µæ„Ÿ */
            --card-bg: #ffffff;
            --text-color: #4a4a4a;
        }

        body {
            font-family: 'Zen Maru Gothic', 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            max-width: 800px;
            width: 100%;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
        }

        h1 {
            font-size: 2.5rem;
            margin: 0;
            color: var(--primary-color);
        }

        p.subtitle {
            font-size: 1.2rem;
            color: #888;
            margin-top: 10px;
        }

        /* å¡ç‰‡æ¨£å¼ */
        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05); /* æŸ”å’Œé™°å½± */
            margin-bottom: 30px;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .summary-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-box {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
        }

        .stat-number {
            display: block;
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        /* åˆ—è¡¨æ¨£å¼ */
        .transaction-list {
            list-style: none;
            padding: 0;
        }

        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .item-info h3 { margin: 0; font-size: 1.1rem; }
        .item-info span { font-size: 0.85rem; color: #999; }
        .item-price { font-weight: bold; color: var(--text-color); }

        /* éŸ¿æ‡‰å¼èª¿æ•´ */
        @media (max-width: 600px) {
            .summary-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>ğŸ‡¯ğŸ‡µ æ—¥æœ¬ä¹‹æ—…å›é¡§</h1>
            <p class="subtitle">2025 Tokyo & Kyoto Vibe Check</p>
        </header>

        <div class="summary-grid">
            <div class="stat-box">
                <span>ç¸½èŠ±è²» (TWD)</span>
                <span class="stat-number" id="total-spent">0</span>
            </div>
            <div class="stat-box">
                <span>ç´€éŒ„ç­†æ•¸</span>
                <span class="stat-number" id="total-items">0</span>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ’¸ éŒ¢éŒ¢å»å“ªäº†ï¼Ÿ (é¡åˆ¥åˆ†æ)</h2>
            <canvas id="expenseChart"></canvas>
        </div>

        <div class="card">
            <h2>ğŸ“ æ—…è¡Œè¶³è·¡èˆ‡å¸³å–®</h2>
            <ul class="transaction-list" id="list-container">
                </ul>
        </div>
    </div>

    <script>
        // ==========================================
        // ğŸ‘‡ åœ¨é€™è£¡è¼¸å…¥ä½ çš„è¨˜å¸³è³‡æ–™ (Vibe Coding Area)
        // ==========================================
        const tripData = [
            { date: '2025-11-20', item: 'ä¸€è˜­æ‹‰éºµ', cost: 280, category: 'é£²é£Ÿ', icon: 'ğŸœ' },
            { date: '2025-11-20', item: 'æˆç”°ç‰¹å¿« N\'EX', cost: 900, category: 'äº¤é€š', icon: 'ğŸš„' },
            { date: '2025-11-21', item: 'ç’°çƒå½±åŸé–€ç¥¨', cost: 2500, category: 'å¨›æ¨‚', icon: 'ğŸ¢' },
            { date: '2025-11-21', item: 'ç‘ªåˆ©æ­è³½è»Šå¸½', cost: 800, category: 'è³¼ç‰©', icon: 'ğŸ§¢' },
            { date: '2025-11-22', item: 'ä¾¿åˆ©å•†åº—å®µå¤œ', cost: 150, category: 'é£²é£Ÿ', icon: 'ğŸ™' },
            { date: '2025-11-23', item: 'ä¼´æ‰‹ç¦® (è“å­)', cost: 3000, category: 'è³¼ç‰©', icon: 'ğŸ' },
            { date: '2025-11-23', item: 'å›ç¨‹æ©Ÿç¥¨è£œè²¼', cost: 1500, category: 'äº¤é€š', icon: 'âœˆï¸' },
        ];

        // ==========================================
        // ğŸ‘‡ ä¸‹é¢æ˜¯é‚è¼¯è™•ç† (ä¸ç”¨å‹•ï¼Œé™¤éä½ æƒ³æ”¹åŠŸèƒ½)
        // ==========================================

        // 1. è¨ˆç®—ç¸½èŠ±è²»
        const total = tripData.reduce((sum, record) => sum + record.cost, 0);
        document.getElementById('total-spent').innerText = `$${total.toLocaleString()}`;
        document.getElementById('total-items').innerText = tripData.length;

        // 2. æ¸²æŸ“åˆ—è¡¨
        const listContainer = document.getElementById('list-container');
        tripData.forEach(record => {
            const li = document.createElement('li');
            li.className = 'transaction-item';
            li.innerHTML = `
                <div class="item-info">
                    <h3>${record.icon} ${record.item}</h3>
                    <span>${record.date} Â· ${record.category}</span>
                </div>
                <div class="item-price">$${record.cost.toLocaleString()}</div>
            `;
            listContainer.appendChild(li);
        });

        // 3. æº–å‚™åœ–è¡¨æ•¸æ“š (ä¾é¡åˆ¥åŠ ç¸½)
        const categories = {};
        tripData.forEach(record => {
            if (categories[record.category]) {
                categories[record.category] += record.cost;
            } else {
                categories[record.category] = record.cost;
            }
        });

        // 4. ç¹ªè£½åœ–è¡¨ (Chart.js)
        const ctx = document.getElementById('expenseChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut', // ç”œç”œåœˆåœ–
            data: {
                labels: Object.keys(categories),
                datasets: [{
                    data: Object.values(categories),
                    backgroundColor: [
                        '#FFB7B2', // ç²‰ç´…
                        '#FFDAC1', // æè‰²
                        '#E2F0CB', // æ·ºç¶ 
                        '#B5EAD7', // è–„è·
                        '#C7CEEA'  // æ·¡ç´«
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'bottom' }
                }
            }
        });
    </script>
</body>
</html>
